define(["angular", "underscore", "TreeGrid"], function (angular, _, TreeGrid) { var directive = function (config, _TREE_GRID_RENDER_, _TREE_GRID_RESET_COLS_) { return { scope: !1, restrict: "A", link: function (scope, element, attrs) { var grid; scope.$on(_TREE_GRID_RENDER_, function (event, args) { grid = new TreeGrid({ BasePath: config.treeGridBasePath, Layout: { Data: args.config }, Data: { Data: { Body: [args.data] } } }, attrs.id) }), scope.$on("$destroy", function () { void 0 !== grid && (grid.Dispose(), grid = void 0) }), scope.$on(_TREE_GRID_RESET_COLS_, function () { void 0 !== grid && grid.RestoreCfg() }), Grids.OnRowFilter = function (g, row, show) { return show && g.ExpandParents(row), show } } } }; return directive.$inject = ["config", "_TREE_GRID_RENDER_", "_TREE_GRID_RESET_COLS_"], directive });